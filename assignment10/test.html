<html>
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Love For Cocktail</title>
    <!-- Bootstrap core CSS -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154146424-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'UA-154146424-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154146424-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        gtag('config', 'UA-154146424-1', { 'optimize_id': 'GTM-W763LWV'});
    </script>
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet"
    type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
    rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet"
    type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic"
    rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700"
    rel="stylesheet" type="text/css">
    <!-- Custom styles for this template -->
    <link href="css/agency.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
    <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js">
</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  </head>
  
  <body>
    <br>
    <div class="table-responsive">
      <table id="table1" width="100%" class="table table-bordered"></table>
    </div>
    <div class="section">
      <div class="container">
        <div class="row">
          <div class="col-md-6 text-left">
            <button type="button" class="btn btn-warning" id="get_data" style="text-align: center;">show me the details</button>
          </div>
          <div class="col-md-6">
            <a href="index.html"><i class="fa fa-3x fa-angle-double-left fa-fw fa-spin"></i>back to front</a>
          </div>
        </div>
      </div>
    </div>
    <!-- table responsive -->
    <script>
      $("button#get_data").click(function() {
                var items = [];
                var i = 0;
                var airtable_read_endpoint = "https://api.airtable.com/v0/appPGutXBuAhrvwP2/HKTOP30%F0%9F%8D%B8bar?api_key=keyPHEPqGToXXaPyQ";
                
                var dataSet = [];
                $.getJSON(airtable_read_endpoint, function(result) {
                       $.each(result.records, function(key,value) {
                           items = [];
                               items.push(value.fields.name);
                               items.push(value.fields.location);
                               items.push(value.fields.tel);
                               dataSet.push(items);
                               console.log(items);
                        }); // end .each
                        console.log(dataSet);
        
                     $('#table1').DataTable( {
                         data: dataSet,
                         retrieve: true,
                         columns: [
                             { title: "Name",
                               defaultContent:""},
                             { title: "Location",
                                 defaultContent:"" },
                             { title: "TEL",
                               defaultContent:""},
                            
                         ]
                     } );
                }); // end .getJSON
             }); // end button
    </script>
  </body>
  

</html>